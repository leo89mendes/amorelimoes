"use strict";!function(c){var d=window.hasOwnProperty("pikartPostLikesConfig")?window.pikartPostLikesConfig:{};c(document).ready(function(){var t=function(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}}(),a=c(".likes-area__link"),e=a.data("post-id"),s=parseInt(a.data("nb-likes"),10),o="post_like_"+e,n=a.find("i"),r=n.data("spinner-icon-class"),i=n.data("like-post-icon-class"),l=n.data("post-liked-icon-class");t&&localStorage.getItem(o)&&s&&n.removeClass(i).addClass(l),a.on("click",function(a){a.preventDefault(),t&&localStorage.getItem(o)&&s||(n.removeClass(i).addClass(r),c.ajax({method:"POST",url:d.ajaxurl,data:{action:"pikart_like_post",postId:e,nonce:d.nonce},success:function(a){if(a.success){if(a.data.hasOwnProperty("alreadyLiked")&&a.data.alreadyLiked)return;var e=c(".likes-area__number");s=a.data.nbLikes,e.html(a.data.nbLikesText),t&&localStorage.setItem(o,!0)}},complete:function(){n.removeClass(r).addClass(l)}}))})})}(jQuery);